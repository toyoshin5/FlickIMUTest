//
//  ContentView.swift
//  FlickIMUTest Watch App
//
//  Created by Shingo Toyoda on 2025/01/27.
//

import SwiftUI
import CoreML

struct ContentView: View {
    let ml = MLService()
    var body: some View {
        VStack {
            Image(systemName: "globe")
                .imageScale(.large)
                .foregroundStyle(.tint)
            Text("Hello, world!")
        }
        .onAppear() {
            testML()
        }
        .padding()
    }
    
    func testML() {
        
        let arr = [[0.0035045966506004333,-0.005217552185058594,0.00552600622177124,0.39432669457503505,0.0801652332810925,-0.01777500694319265,0.07393374294042587,-0.38418665528297424,-0.9202904105186462,0.19607259291961607,0.037554449661597794,-0.0008588955027845846,0.9798696187234683,-0.0066674621775746346,0.0028821888845413923,-0.0008335266029462218],
                   [0.007041513919830322,-0.008217662572860718,0.005028784275054932,0.3941843635038104,0.08019703252448987,-0.0177689772506049,0.07396738231182098,-0.3840552270412445,-0.9203425645828247,0.19600276688363258,0.03757179807410633,-0.0008557453272317052,0.9798829401678677,-0.018306540325284004,-0.0023439982905983925,0.00495006050914526],
                   [0.006842374801635742,-0.0061078667640686035,0.00715184211730957,0.39390783244546623,0.08015548111646742,-0.017705886586901236,0.07393764704465866,-0.38379988074302673,-0.9204514622688293,0.19586610343531857,0.0375599080670618,-0.000834578134235768,0.9799107125381723,-0.029445543885231018,-0.006277620792388916,0.00833175890147686],
                   [0.004339464008808136,0.0007359981536865234,0.01148688793182373,0.3936024917598766,0.0800629246588425,-0.01760993570007917,0.07386182248592377,-0.38351792097091675,-0.9205750823020935,0.19571467800391204,0.03752646823447341,-0.0008028853239168822,0.9799422837529355,-0.01297229528427124,-0.0095469169318676,0.006202295422554016],
                   [0.001867145299911499,0.010030388832092285,0.01068878173828125,0.3936209329110009,0.0800308155939847,-0.017496073770862645,0.07383169233798981,-0.3835349380970001,-0.9205703735351562,0.195721560373921,0.037521726150280876,-0.0007498610910506626,0.979941148383591,0.06332606822252274,0.02709604799747467,0.019602222368121147],
                   [0.00026185065507888794,0.013192206621170044,0.014744937419891357,0.3945333600645726,0.08029679061019543,-0.017203035656792678,0.07404843717813492,-0.38437744975090027,-0.9202014803886414,0.19616313145376044,0.03767329502703974,-0.0005615282510923437,0.9798470952725927,0.06614448875188828,0.0672631785273552,0.05404595285654068],
                   [-0.00740697979927063,-0.014096438884735107,0.058718204498291016,0.3944112361370035,0.08116464440831105,-0.016344268917029798,0.07485082000494003,-0.3842647075653076,-0.9201836585998535,0.19608715693476467,0.03818367368228175,-5.82116090958586e-05,0.9798427051379465,-0.034415535628795624,0.17671403288841248,0.07691974192857742],
                   [-0.039011791348457336,-0.005884766578674316,0.0017096400260925293,0.3950916121221091,0.08298343495369136,-0.01586427932483369,0.07650262862443924,-0.3848927319049835,-0.9197852611541748,0.19641101290100665,0.03911637093530282,0.00036962343718042106,0.9797409588389716,0.14716650545597076,0.21706464886665344,0.02869522199034691],
                   [-0.05361511558294296,0.02617788314819336,0.016851842403411865,0.3966504423696004,0.08503057415689001,-0.015683371400759302,0.07833433896303177,-0.3863310217857361,-0.9190278053283691,0.1971703300092564,0.040124447549485895,0.0006929611072984647,0.9795474990359636,0.14869888126850128,0.20120739936828613,0.03579813987016678],
                   [0.0009492784738540649,0.0443347692489624,-0.011842310428619385,0.39837039135251145,0.08677154499048666,-0.015480228768622458,0.07987651973962784,-0.3879168629646301,-0.9182266592979431,0.19800766362755207,0.04098325836600001,0.0010019622262988994,0.9793427246177576,0.17824186384677887,0.1589001566171646,0.02798255905508995],
                   [0.038581520318984985,0.03793537616729736,-0.001252889633178711,0.40000345470465626,0.08820736376366728,-0.015475067498446142,0.08113893121480942,-0.3894215226173401,-0.9174787998199463,0.19880623705520245,0.04167351170626303,0.00118317566593678,0.9791516501114554,0.12923677265644073,0.12497227638959885,0.005883648060262203],
                   [0.04517547786235809,-6.020069122314453e-06,0.008537590503692627,0.40080661252764943,0.08931652292878159,-0.01549824223217303,0.08212858438491821,-0.3901611566543579,-0.9170764088630676,0.19919915517746592,0.042207605315033675,0.001300270321030784,0.9790488115816822,0.03259145841002464,0.09264762699604034,0.006559291854500771],
                   [0.03708121180534363,-0.02094021439552307,0.010694921016693115,0.4005755326525749,0.08996436211966727,-0.015399423180235157,0.08273078501224518,-0.38994836807250977,-0.9171127676963806,0.1990835354368502,0.0425364865070844,0.0014079017191717719,0.9790578694040168,-0.06319498270750046,0.04206354543566704,0.007046383805572987],
                   [0.030588440597057343,-0.029446840286254883,0.009984731674194336,0.3995734101548004,0.08996789026073608,-0.015318788371981196,0.08276908844709396,-0.38902539014816284,-0.9175012111663818,0.1985912839202327,0.04255447281531854,0.0014248810798396722,0.9791570753191067,-0.11937277019023895,-0.034542813897132874,-0.01182930264621973],
                   [0.03620710223913193,-0.014673709869384766,-0.0001786947250366211,0.3983839599923547,0.08927068135089347,-0.015399543130238686,0.08217057585716248,-0.38792935013771057,-0.9180189967155457,0.19801116632585627,0.04221485277029506,0.0012891969689596465,0.9792895110838103,-0.13878801465034485,-0.10707879811525345,-0.025961365550756454],
                   [0.04497019201517105,0.003693133592605591,-0.006424069404602051,0.3969554920612245,0.0878499901554588,-0.015557007934144744,0.08091480284929276,-0.3866123557090759,-0.9186858534812927,0.19731589857476825,0.041515256806595284,0.0010395974672518613,0.9794599645773313,-0.14484724402427673,-0.17713351547718048,-0.03235854580998421],
                   [0.046598486602306366,0.004242897033691406,-0.01196962594985962,0.3954012244831235,0.08567312220936926,-0.015743219604282353,0.07896608114242554,-0.38517847657203674,-0.9194573760032654,0.19655951557232126,0.040443324474828575,0.0006998034329888667,0.9796571811046023,-0.15042416751384735,-0.25349459052085876,-0.035357795655727386],
                   [0.04225723445415497,-0.004357099533081055,-0.016207396984100342,0.39375479205984065,0.08333431831184711,-0.01597013790725052,0.07686811685562134,-0.3836585581302643,-0.9202702641487122,0.1957582018106288,0.03928854595155877,0.00032387834114932075,0.9798647391458049,-0.13484227657318115,-0.20422320067882538,-0.027771983295679092],
                   [0.009073294699192047,-0.006944388151168823,-0.007932841777801514,0.3926057247862614,0.08222964384399703,-0.016038304089607103,0.07588763535022736,-0.3825971782207489,-0.9207934141159058,0.19519672001404506,0.038749776436353446,0.00015829616393394058,0.979998312080952,-0.07474744319915771,-0.03358261287212372,0.004485405050218105],
                   [-0.06339997798204422,-0.0035542547702789307,0.005411386489868164,0.3922618116432513,0.08244338918377932,-0.01586894746149768,0.07609527558088303,-0.3822793960571289,-0.9209082126617432,0.1950249144848835,0.03887375873063732,0.00025492575993081915,0.9800275828929494,0.0005121540743857622,0.05751454085111618,0.02537151239812374],
                   [-0.08227451145648956,0.007084548473358154,0.0026068687438964844,0.3926453509164191,0.08288674686781877,-0.015610774040552043,0.07649141550064087,-0.3826338052749634,-0.9207282066345215,0.19520771351664024,0.03911316768553719,0.0004327500709616877,0.9799816095839781,0.05858011543750763,0.039553120732307434,0.029210492968559265],
                   [-0.03610386699438095,0.016874223947525024,-0.00448298454284668,0.39339818930448706,0.08304797312189877,-0.015372284906313313,0.07661594450473785,-0.38332924246788025,-0.9204285144805908,0.1955718312828196,0.03920955934359004,0.0005812331445225068,0.9799050499678286,0.0697917640209198,0.012761451303958893,0.03013620711863041],
                   [0.011802732944488525,0.011918634176254272,-0.0074083805084228516,0.3940298622272917,0.08302658129577693,-0.015173696611754443,0.07657615840435028,-0.3839125633239746,-0.9201886653900146,0.19587739046425534,0.03921358671858208,0.0006897630072660479,0.9798437608350585,0.04322206601500511,-0.006035672500729561,0.018970470875501633],
                   [0.026320256292819977,-0.003252655267715454,-0.002622663974761963,0.39419073729879067,0.08289251820767068,-0.015040508874117167,0.07644768059253693,-0.38406112790107727,-0.9201374053955078,0.19595363329688292,0.03915970486900362,0.000745271292347547,0.9798306377937334,-0.013659325428307056,-0.020120864734053612,0.012380746193230152],
                   [0.00970267504453659,-0.014857470989227295,0.0038275718688964844,0.3938514199305576,0.08264949479183342,-0.014871087191201464,0.07623481750488281,-0.38374778628349304,-0.9202857613563538,0.1957841988269284,0.03905985168078709,0.0007973436319890715,0.979868431180448,-0.05278262495994568,-0.01926412619650364,0.0177278071641922],
                   [-0.015043877065181732,-0.01995876431465149,0.007803499698638916,0.39330092560343366,0.08249445490091811,-0.014584037248718724,0.07610952854156494,-0.38323938846588135,-0.9205079674720764,0.19550897054184355,0.039016175578668016,0.000911278860748115,0.9799250745267817,-0.06017129868268967,0.00677253445610404,0.024730058386921883],
                   [-0.030004851520061493,-0.010177671909332275,0.00858837366104126,0.39282212296059876,0.08260205952540726,-0.014330260667079469,0.0762237161397934,-0.38279709219932556,-0.9206825494766235,0.195269384081783,0.03909731521785488,0.001036109116607784,0.9799695134025671,-0.037406064569950104,0.028344139456748962,0.017252899706363678],
                   [-0.026891574263572693,0.007500886917114258,0.006065726280212402,0.3927161189486737,0.08279676874978596,-0.014172324299352867,0.076406329870224,-0.3826991617679596,-0.9207081198692322,0.19521426096014602,0.03920893717018527,0.0011302817775157537,0.9799758903366717,0.0123154167085886,0.02825811877846718,0.008297220803797245],
                   [-0.010327890515327454,0.01959851384162903,-0.0034651756286621094,0.39307672153551126,0.08291662199956659,-0.014115612276896632,0.07650524377822876,-0.38303229212760925,-0.9205613732337952,0.19538974757988384,0.039270493971700994,0.0011773456808105336,0.9799383888747443,0.053019702434539795,0.01412765309214592,-0.0009887556079775095],
                   [0.0005887523293495178,0.01929578185081482,-0.01017296314239502,0.3936410576257797,0.0830118050679751,-0.01416905247022519,0.07657493650913239,-0.38355353474617004,-0.92033851146698,0.19566720010872493,0.039307661620730204,0.0011723323992979934,0.9798815826844273,0.06192132085561752,0.006337906699627638,-0.0011027390137314796],
                   [0.002309165894985199,0.01172405481338501,-0.010219097137451172,0.39418267503800325,0.08310102679867758,-0.014271144031203414,0.07663979381322861,-0.38405367732048035,-0.9201245307922363,0.19593449039779876,0.0393372947393858,0.0011424527465780645,0.9798269550454519,0.05231216549873352,-4.3959240429103374e-05,-0.007120500784367323],
                   [-0.003291398286819458,0.003385007381439209,-0.00446629524230957,0.394570968785607,0.0831483029677087,-0.014360503634670995,0.07667089998722076,-0.38441216945648193,-0.9199721813201904,0.19612643381735037,0.03934875651240672,0.00111149202042657,0.9797880885558518,0.02482381835579872,-0.004458148963749409,-0.0008642028551548719],
                   [-0.006295323371887207,-0.0021125376224517822,-0.001367032527923584,0.3947811119230562,0.08307042804772309,-0.014360449967995197,0.07659254968166351,-0.38460615277290344,-0.9198976755142212,0.1962293964470772,0.039309014138091306,0.0011083063074603327,0.9797691394711131,0.006850278005003929,-0.015464726835489273,0.005329078063368797],
                   [-0.0037264153361320496,-0.002859145402908325,-0.0018007755279541016,0.39484840789068815,0.08281804076780733,-0.014313558262466688,0.07635823637247086,-0.3846682608127594,-0.9198911786079407,0.1962615778101959,0.03918946454385866,0.0011079279314932843,0.9797674906047431,-0.006751284934580326,-0.02615252509713173,0.0013324721949175],
                   [0.0001450851559638977,0.0029986202716827393,-0.004814267158508301,0.39486318830931716,0.08244164522021148,-0.014262025909232865,0.076011523604393,-0.38468191027641296,-0.919914186000824,0.19626800672981592,0.03901001731559655,0.0010965449591410176,0.9797734292492551,4.22261655330658e-06,-0.03277820348739624,0.0019043528009206057],
                   [0.001690588891506195,0.008828192949295044,-0.007323324680328369,0.3948805013187225,0.08203940187287895,-0.014192953940704436,0.07564093917608261,-0.38469788432121277,-0.9199380278587341,0.19627537064893524,0.03881961270904479,0.0010912696694862225,0.9797794868129316,0.010175900533795357,-0.02927747741341591,0.006160084158182144],
                   [0.0007499754428863525,0.010954350233078003,-0.005084872245788574,0.39483652812871034,0.08171685360382437,-0.014133616128383519,0.07534559816122055,-0.3846572935581207,-0.9199792742729187,0.1962528445978901,0.03866774845914396,0.0010877725116819877,0.9797900689082074,0.010586426593363285,-0.026435885578393936,0.0039765252731740475],
                   [-7.033348083496094e-06,0.01108640432357788,-0.0012626051902770996,0.39474812886847743,0.08145860676020938,-0.014127418737637372,0.0751107782125473,-0.3845756947994232,-0.9200325608253479,0.1962095657676557,0.03854250192407975,0.0010636421547907064,0.979803680956661,0.007557346951216459,-0.025109099224209785,-0.002317056991159916],
                   [0.0014979913830757141,0.0070247650146484375,0.00521010160446167,0.39462937682280563,0.08121188356442655,-0.014135224453216992,0.0748874843120575,-0.3844660818576813,-0.9200965762138367,0.1961516790124428,0.038421750243849626,0.0010331680240906898,0.9798200253895967,-0.002331835450604558,-0.026630163192749023,0.0019303018925711513]]
        let res = ml.predict(arr)
        print(res ?? "")
    }
}

#Preview {
    ContentView()
}
